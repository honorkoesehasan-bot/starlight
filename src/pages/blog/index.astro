---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const title = 'Blog zu n8n Automation & SEO – Praxisübersicht kompakt';
const description = 'Übersicht der n8n-Artikel: Audit-Workflows, Content-Briefs, Reporting, Outreach und Local SEO. Jede Seite ist auf eigene Keywords fokussiert.';

const posts = await getCollection('blog');
const sortedPosts = posts.sort((a, b) => (a.data.title > b.data.title ? 1 : -1));
---
<BaseLayout title={title} description={description}>
	<section class="hero">
		<h1>Blog-Übersicht: n8n Automation für Marketing &amp; SEO</h1>
		<p>Fünf strukturierte Artikel mit klaren Keywords, internen Links und praxisnahen Automationsideen.</p>
		<a class="button" href="/">Zur Startseite</a>
	</section>

	<section class="section">
		<h2>Alle Artikel</h2>
		<div class="card-grid">
			{sortedPosts.map((post) => (
				<article class="card">
					<h3><a href={`/blog/${post.slug}/`}>{post.data.title}</a></h3>
					<p>{post.data.description}</p>
					<p class="meta">Veröffentlicht: {post.data.pubDate} · Fokus: {post.data.mainKeyword}</p>
					<a class="button" href={`/blog/${post.slug}/`}>Artikel lesen</a>
				</article>
			))}
		</div>
	</section>
</BaseLayout>
